<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>防災診断ツール</title>
<style>
body { font-family: sans-serif; max-width: 500px; margin: 0 auto; padding: 20px; }
h3 { margin-top: 0; }
button { margin-top: 10px; padding: 5px 10px; }
#result { margin-top: 15px; font-weight: bold; }

/* 防災グッズ2列表示・左寄せ・枠なし */
#result .items {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 5px;
  margin-bottom: 10px;
}
#result .items div {
  flex: 1 1 48%;
  box-sizing: border-box;
  padding: 5px;
  border: none; /* 枠なし */
  border-radius: 0;
  background-color: transparent; /* 背景透明 */
  text-align: left;
  font-size: 0.9em;
}
</style>
</head>
<body>

<h3>あなたに必要な防災グッズ診断</h3>

<label><input type="checkbox" value="sea"> 海が近い</label><br>
<label><input type="checkbox" value="mountain"> 山が近い</label><br>
<label><input type="checkbox" value="city"> 都市部</label><br>
<label><input type="checkbox" value="normal"> 特に何もない</label><br>

<button id="checkBtn">診断する</button>

<div id="result"></div>

<script>
// 診断処理（選択肢ごとにグッズ表示）
document.getElementById("checkBtn").addEventListener("click", function() {
  var checked = document.querySelectorAll("input[type=checkbox]:checked");
  var result = document.getElementById("result");

  if (checked.length === 0) {
    result.innerHTML = "選択してください。";
    return;
  }

  var score = checked.length * 25;
  var level = "";
  if (score <= 25) level = "リスク：低";
  else if (score <= 50) level = "リスク：中";
  else level = "リスク：高";

  var itemsHtml = "";
  checked.forEach(function(chk){
    var itemList = [];
    if(chk.value === "sea") itemList = ["防水リュック","ホイッスル"];
    if(chk.value === "mountain") itemList = ["ヘルメット","懐中電灯"];
    if(chk.value === "city") itemList = ["モバイルバッテリー","携帯トイレ"];
    if(chk.value === "normal") itemList = ["飲料水（3日分）","保存食"];

    if(itemList.length > 0){
      // 選択肢名表示
      itemsHtml += "<strong>"+ chk.parentNode.textContent +"</strong>";
      // グッズ2列表示
      itemsHtml += "<div class='items'>";
      itemList.forEach(function(it){ itemsHtml += "<div>"+it+"</div>"; });
      itemsHtml += "</div>";
    }
  });

  result.innerHTML =
    "<h4>防災リスクスコア：" + score + "点</h4>" +
    "<strong>" + level + "</strong><br>" +
    itemsHtml;
});
</script>

<!-- iframe高さ固定（スクロールなし） -->
<script>
var iframeHeight = 600;
if(window.frameElement){
  window.frameElement.style.height = iframeHeight + "px";
}
</script>

</body>
</html>
